"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3296],{17308:function(t,e,n){var r=n(59499),o=n(4730),i=n(29260),a=n.n(i),c=n(85893),s=["loader"];function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p=function(t){var e=t.src,n=t.width,r=t.quality;return"https://hipcamp-res.cloudinary.com/".concat(["f_auto","c_limit","w_".concat(n),"q_".concat(r||"auto:eco")].join(","),"/").concat(e)};e.Z=function(t){var e=t.loader,n=(0,o.Z)(t,s);return(0,c.jsx)(a(),l(l({},n),{},{loader:void 0===e?p:e}))}},73296:function(t,e,n){n.d(e,{Z:function(){return tT}});var r,o,i,a,c,s,u=n(71383),l=n(59499),p=n(50029),d=n(87757),h=n.n(d);n(2952);var f=n(99085),x=n.n(f),g=n(96536),b=n.n(g),v=n(52688),m=n.n(v),y=n(90191),j=n(80954),w=n.n(j),P=n(11163),C=n(39009),O=n(67294),k=n(10615),S=n(31096),T=n(57520),Z=n(92200),I=n(32814),E=n(86298),_=n(45322),B=n(52934),A=n(86280),D=n(85893),M=function(t){var e=t.photo,n=t.setCurrentPhotoHasExtraDetails,r=e.author,o=e.authorAvatarUrl,i=e.bookingHasPets,a=e.bookingRvDetailName,c=e.bookingRvLengthFeet,s=e.bookingRvLengthMeters,u=e.contributedTipUuid,l=e.campgroundName,p=e.campsiteId,d=e.createdAt,h=e.hostPhoto,f=!h&&l&&p&&u,x=(0,P.useRouter)(),g=(0,C.$G)().t,b=x.query,v=b.landIdSegments,m="",j="en-US"===(x.locale||"en-US")?"ft":"m",w="ft"===j?c:s;w&&(m=Math.round(Number(w))+" "+j+" "),a&&(m+=(0,_.AU)(a)),(0,O.useEffect)(function(){!h&&(i||m||f)?n(!0):n(!1)},[e]);var k=(0,D.jsx)(Z.Z,{href:"/land/".concat(v,"/sites/").concat(p).concat((0,B.WH)(b,["landIdSegments","siteId"])),target:"_blank",children:(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:l})});return(0,D.jsxs)(y.VStack,{paddingBottom:["0px","0px",f?"16px":"0px"],children:[(0,D.jsxs)(y.HStack,{spacing:"8px",paddingBottom:f?"8px":"0px",alignItems:"center",children:[(0,D.jsx)(A.Z,{avatarUrl:o||"",size:"20px"}),(0,D.jsx)(y.Text,{variant:"titleS",textColor:"white",children:h?g("landPage.photos.host"):r}),(0,D.jsx)(y.Text,{variant:"paragraphM",textColor:"white",children:"\xb7"}),(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:(0,E.Uo)(new Date(d))})]}),(0,D.jsxs)(y.HStack,{flexWrap:"wrap",children:[m&&(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:m}),m&&i&&(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:"\xa0\xb7\xa0"}),i&&(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:g("landPage.photos.stayedWithPets")})]}),f&&(0,D.jsxs)(y.HStack,{paddingBottom:["24px","0px","24px"],children:[(0,D.jsx)(I.Z,{lines:1,withTooltip:!1,withCta:!1,maxLines:1,children:(0,D.jsxs)(y.Text,{variant:"paragraphS",textColor:"white",children:[g("landPage.photos.stayedAt")," ",k]})}),(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:"\xa0\xb7\xa0"}),(0,D.jsx)(Z.Z,{href:"/land/".concat(v,"/reviews/").concat(u).concat((0,B.WH)(b,["landIdSegments","contributedTipUuid"])),target:"_blank",children:(0,D.jsx)(y.Box,{style:{whiteSpace:"nowrap"},children:(0,D.jsx)(y.Text,{variant:"headingXs",textColor:"white",children:g("landPage.photos.readReview")})})})]})]})},N=n(17308),U=n(55855),L=n(54931),R=(0,S.default)(y.Box).withConfig({displayName:"CarouselImage__CarouselImageContainer",componentId:"sc-6sspon-0"})(["height:calc(100% - 280px);width:calc(100% - 192px);margin-top:122px;margin-left:96px;position:relative;",""],L.BC.lessThan("sm")(i||(i=(0,u.Z)(["\n    height: calc(100% - 440px);\n    width: 100%;\n    margin-left: 0;\n  "])))),W=(0,S.default)(N.Z).withConfig({displayName:"CarouselImage__PhotoImage",componentId:"sc-6sspon-1"})(["max-width:100%;height:auto;"]),z=function(t){var e=t.photo,n=(0,U.Z)({contentId:e.uuid,contentType:"contributed_photo",component:"carousel-image"}).impressionRef;return""===e.url?(0,D.jsx)(y.Box,{height:1,width:1}):(0,D.jsx)(R,{ref:n,paddingTop:"24px",children:(0,D.jsx)(W,{style:{objectFit:"contain"},quality:80,sizes:"80vw",fill:!0,alt:"",src:e.filename})})},F=n(27578),H=n.n(F),$=n(4018),Q=n.n($),V=n(37227),G=n(17528),q=n(18923),K=n(72323),X=n(69043),J=n(75315),Y=n(73987),tt=n(12184),te=n(35178),tn=function(t){var e,n,r=t.photo,o=t.photos,i=(0,G.Z)().isAuthenticated,a=(0,C.$G)().t,c=(0,K.ZP)().openSusiModal,s=(0,P.useRouter)().query,u=(0,B.dA)(s.landIdSegments).landId,l=(0,V.ZP)().setPhotos,d=r.id,f=r.upvotesCount,x=r.uuid,g=(0,q.Z)("query HasUpvotedContribution($contributionType: ContributionTypeEnum!, $contributionId: ID!) {\n  me {\n    hasUpvotedContribution(contributionType: $contributionType, contributionId: $contributionId)\n  }\n}\n",{contributionType:J.NT.Photo,contributionId:d}),b=g.data,v=g.isValidating,m=(0,O.useState)(!1),j=m[0],w=m[1],k=null==b||null===(n=b.me)||void 0===n?void 0:n.hasUpvotedContribution,S=(0,O.useState)(k),T=S[0],Z=S[1],I=f&&f>0?" "+f:"";(0,O.useEffect)(function(){v||Z(k)},[v,k]);var E=function(t,e){var n=o.findIndex(function(e){return e.id===t});if(n>=0){var r=o[n];r.upvotesCount=e,o[n]=r,l(o)}},_=(e=(0,p.Z)(h().mark(function t(){var e,n,r,o,i,a,c;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e={contributionType:J.NT.Photo,contributionUuid:x},w(!0),Z(!T),!k){t.next=14;break}return E(d,f-1),t.next=8,(0,tt.Z)({removeUpvoteInput:e});case 8:if(r=(n=t.sent.removeUpvote).success,o=n.message,r){t.next=12;break}throw Error(o||"");case 12:t.next=21;break;case 14:return E(d,f+1),t.next=17,(0,Y.Z)({upvoteContributionInput:e});case 17:if(a=(i=t.sent.upvoteContribution).success,c=i.message,a){t.next=21;break}throw Error(c||"");case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(0),Z(T),E(d,f);case 27:return t.prev=27,w(!1),t.finish(27);case 30:case"end":return t.stop()}},t,null,[[0,23,27,30]])})),function(){return e.apply(this,arguments)});return(0,D.jsx)(y.Control,{"aria-label":a("landPage.photos.upvotePhoto")+I,onClick:function(){var t=!!s.siteId,e=t?s.siteId:u;X.co.buttonClicked({label:"Upvote Photo",screenName:t?"Land Page - Site Photos":"Land Page - Photos",properties:{is_authenticated:i,upvote_type:T?"Remove":"Add",product_id:e,product_type:t?"Site":"Land",content_id:d,content_type:"Photo"}}),i?_():c()},disabled:j,children:(0,D.jsx)(y.Text,{variant:"titleS",textColor:"white",children:(0,D.jsxs)(y.HStack,{children:[(0,D.jsx)(y.Box,{mt:"2px",children:T?(0,D.jsx)(Q(),{}):(0,D.jsx)(H(),{})}),(0,D.jsx)(y.Box,{children:(0,D.jsx)(tr,{$_css:"".concat(te.O.grayScale[5]," 1px solid"),children:a("landPage.photos.upvotePhoto")+I})})]})})})},tr=(0,S.default)(y.Text).withConfig({displayName:"UpvotePhoto___StyledText",componentId:"sc-m85mx9-0"})(function(t){return{borderBottom:t.$_css,marginLeft:"8px"}}),to=n(5693),ti=n(42751),ta=n(60173),tc=n(7536),ts=(r=(0,p.Z)(h().mark(function t(e){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,tc.Z)()("mutation addPhotoToCategory($input: AddPhotoToCategoryInput!) {\n  addPhotoToCategory(input: $input) {\n    photo {\n      uuid\n    }\n  }\n}\n",{input:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)}),tu=(0,S.default)(y.Control).withConfig({displayName:"AddToCategoryMenu__CategoryButton",componentId:"sc-x1ph0n-0"})(["width:100%;height:100%;padding:16px;border-radius:16px;&:hover{background-color:",";}"],function(t){return t.theme.colors.brand4["520"]}),tl=(0,S.default)(y.Box).withConfig({displayName:"AddToCategoryMenu__CategoryPopup",componentId:"sc-x1ph0n-1"})(["top:40px;position:absolute;justify-content:start;right:12px;width:240px;border-radius:16px;box-shadow:0px 2px 16px rgba(0,0,0,0.12);background-color:white;"]),tp=function(t){var e,n=t.buttonClickedProperties,r=t.photoUuid,o=t.closeMenu,i=t.exitCarousel,a=(0,C.$G)().t,c=(0,ti.Z)().setSnackbarState,s=(e=(0,p.Z)(h().mark(function t(e){var n;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={photoUuid:r,photoCategorySlug:e},t.next=3,ts(n);case 3:c({snackbarMessage:a("landPage.photos.addPhotoToCategorySuccess",{category:a("landPage.photoCategorization.categories.".concat(e,".headerDisplayName"))})}),i();case 5:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)}),u=(0,to.Z)({mutation:s,handleError:function(t){var e;c({snackbarMessage:(null===(e=t.response)||void 0===e||null===(e=e.errors)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.message)||a("landPage.photos.wrongCategoryPhotoError")}),i()}}).mutationMutex,l=function(t){X.co.buttonClicked(n),u(t)},d=(0,O.useRef)(null);(0,O.useEffect)(function(){var t=function(t){d.current&&!d.current.contains(t.target)&&o()};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}},[d]);var f=[ta.WQ.Amenities,ta.WQ.Bathroom,ta.WQ.Family,ta.WQ.Fire,ta.WQ.Landscape,ta.WQ.Lodging,ta.WQ.Maps,ta.WQ.OutdoorActivities,ta.WQ.Pets,ta.WQ.Plantlife,ta.WQ.Rv,ta.WQ.Tent,ta.WQ.Water,ta.WQ.Wildlife].map(function(t){return{categorySlug:t,buttonText:a("landPage.photoCategorization.categories.".concat(t,".headerDisplayName"))}});return(0,D.jsx)(y.Box,{position:"relative",children:(0,D.jsx)(y.Box,{position:"absolute",right:"4px",children:(0,D.jsx)(tl,{ref:d,children:f.map(function(t,e){var n=t.buttonText,r=t.categorySlug;return(0,D.jsxs)(O.Fragment,{children:[(0,D.jsx)(tu,{"aria-label":n,onClick:function(){return l(r)},children:(0,D.jsx)(y.Text,{variant:"paragraphM",children:n})}),e!==f.length-1&&(0,D.jsx)(y.Divider,{})]},n)})})})})},td=n(40155),th=n(14872),tf=n(32030),tx=n(4281),tg=n(15290),tb=n(30940),tv=(o=(0,p.Z)(h().mark(function t(e){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,tc.Z)()("mutation excludePhotoFromCategory($input: ExcludePhotoFromCategoryInput!) {\n  excludePhotoFromCategory(input: $input) {\n    photo {\n      uuid\n    }\n  }\n}\n",{input:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(t){return o.apply(this,arguments)}),tm=n(5585);function ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ty(Object(n),!0).forEach(function(e){(0,l.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tw=(0,S.default)(k.lr).withConfig({displayName:"Carousel__StyledCarousel",componentId:"sc-j7ztuj-0"})(["flex-grow:1;.carousel,.slider-wrapper,.slider{height:100%;}",""],L.BC.lessThan("sm")(a||(a=(0,u.Z)(["\n    padding-left: 16px;\n    padding-right: 16px;\n  "])))),tP=(0,S.default)(y.Box).withConfig({displayName:"Carousel__CarouselContainer",componentId:"sc-j7ztuj-1"})(["height:100%;width:100%;position:relative;display:flex;flex-direction:column;background-color:black;"]),tC=(0,S.default)(y.Box).withConfig({displayName:"Carousel__ArrowContainer",componentId:"sc-j7ztuj-2"})(["position:absolute;top:calc(50% - 24px);z-index:1;align-items:center;border-radius:24px;height:48px;width:48px;"]),tO=(0,S.default)(y.Box).withConfig({displayName:"Carousel__MetaSection",componentId:"sc-j7ztuj-3"})(["position:absolute;z-index:1;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;"]),tk=(0,S.default)(tO).withConfig({displayName:"Carousel__Footer",componentId:"sc-j7ztuj-4"})(["bottom:0;height:80px;padding-left:32px;padding-right:32px;"," ",""],L.BC.lessThan("sm")(c||(c=(0,u.Z)(["\n    align-items: normal;\n    flex-direction: column;\n    width: fit-content;\n    padding-left: 16px;\n    padding-right: 16px;\n    padding-bottom: 24px;\n  "]))),function(t){var e=t.currentPhotoHasExtraDetails;return L.BC.lessThan("sm")(s||(s=(0,u.Z)(["\n    height: ",";\n  "])),function(){return e?"136px":"96px"})}),tS=(0,S.default)(y.Text).withConfig({displayName:"Carousel__TruncatedText",componentId:"sc-j7ztuj-5"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;"]),tT=function(t){var e,n,r,o=t.index,i=t.photos,a=t.totalCount,c=t.onCarouselChange,s=t.handleClose,u=t.indexOffset,l=t.allowUpvotes,d=t.category,f=void 0===d?ta.WQ.AllPhotos:d,g=(0,L.Sj)().deviceType,v=(0,P.useRouter)(),j=(0,tx.Z)().data,k=(0,B.dA)(v.query.landIdSegments).landId,S=(0,C.$G)().t,I=(0,ti.Z)().setSnackbarState,E=(0,O.useState)(!1),_=E[0],A=E[1],N=(0,O.useState)(!1),U=N[0],R=N[1];null===(r=window.adaEmbed)||void 0===r||r.stop();var W=(0,tg.ZP)().openModal;(0,tf.Z)({escapeCallback:s});var F=(0,G.Z)().currentUser,H=i[o],$=(e=(0,p.Z)(h().mark(function t(){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={photoUuid:tt,photoCategorySlug:f},t.next=3,tv(e);case 3:I({snackbarMessage:S("landPage.photos.wrongCategoryPhotoSuccess")}),s();case 5:case"end":return t.stop()}},t)})),function(){return e.apply(this,arguments)}),Q=(0,to.Z)({mutation:$,handleError:function(){I({snackbarMessage:S("landPage.photos.wrongCategoryPhotoError")}),s()}}).mutationMutex,V=(n=(0,p.Z)(h().mark(function t(){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,tm.Z)({contributedPhotoUuid:tt});case 2:I({snackbarMessage:S("landPage.photos.hidePhotoSuccess")}),s();case 4:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)}),q=(0,to.Z)({mutation:V,handleError:function(){I({snackbarMessage:S("landPage.photos.hidePhotoError")}),s()}}).mutationMutex;if(!H)return null;var K=H.description,J=void 0===K?"":K,Y=H.id,tt=H.uuid,te="".concat(window.location.origin,"/backcountry/photos/").concat(tt),tr=w()(function(t){null==c||c(t)},500),tc={leftArrow:"Previous image",rightArrow:"Next image",item:"Current image"},ts=function(t,e,n){var r=o+(n===tc.leftArrow?-1:1),i=n===tc.leftArrow?"0px":"2px",a=n===tc.leftArrow?"2px":"0px";return(0,D.jsx)(D.Fragment,{children:e&&(0,D.jsx)(tC,{left:n===tc.leftArrow?"16px":null,right:n===tc.rightArrow?"16px":null,children:(0,D.jsx)(y.Button,{"aria-label":n,onClick:function(){X.co.searchPhotoCarouselNavigated({listEntityType:tb.u98.PRIVATE_LAND,listEntityId:k,photoCarouselNavigationDirection:n===tc.leftArrow?tb.tKT.PREVIOUS:tb.tKT.NEXT,nextPhotoUuid:"",photoUuid:"",photoIndex:o,nextPhotoIndex:r,source:tb.Hw6.LAND_PAGE,searchQueryId:null,contextualPhotoCount:null,isContextualPhoto:null}),t()},color:"text",rounded:!0,size:"md",children:(0,D.jsx)(y.Box,{mt:"4px",ml:i,mr:a,children:n===tc.leftArrow?(0,D.jsx)(x(),{}):(0,D.jsx)(b(),{})})})})})},tu=!!v.query.siteId,tl=tu?v.query.siteId:k,ty={screenName:tu?"Land Page - Site Photos":"Land Page - Photos",properties:{product_id:tl,product_type:tu?"Site":"Land",content_id:Y,content_type:"Photo"}},tT=tj({label:"Report Photo"},ty),tZ=tj({label:"Add Photo to Category"},ty),tI=[ta.WQ.AllPhotos,ta.WQ.Latest,ta.WQ.ByCamper,ta.WQ.ByHost],tE=!!F&&!tI.includes(f),t_=[];F&&t_.unshift({buttonText:S("landPage.photos.reportPhoto"),onClick:function(){W(tg.nK.REPORT_PHOTO_MODAL,{params:{photoUuid:tt}})}}),tE&&t_.unshift({buttonText:S("landPage.photos.wrongCategoryPhoto"),onClick:Q});var tB=F&&(F.isOperator||F.isAdmin);tB&&null!=j&&j.isHidePhotoEnabled&&t_.unshift({buttonText:S("landPage.photos.hidePhoto"),onClick:function(){W(tg.nK.GENERIC_INFO,{params:{title:S("landPage.photos.hidePhotoModalTitle"),body:S("landPage.photos.hidePhotoModalBody"),onClick:q}})}}),tB&&null!=j&&j.isAddToPhotoCategoryEnabled&&t_.unshift({buttonText:"Add to category",onClick:function(){A(!0)}});var tA=t_.length>0;return 0===i.length?null:(0,D.jsx)(T.Z,{doFullScreen:!0,children:(0,D.jsxs)(tP,{children:[(0,D.jsxs)(tO,{top:0,height:th.M,paddingLeft:["20px","20px","32px"],children:[(0,D.jsxs)(y.HStack,{children:[(0,D.jsx)(y.Control,{onClick:s,"aria-label":S("landPage.modal.closeModal"),mt:"12px",children:g!==L.VB.Mobile?(0,D.jsx)(m(),{color:"white"}):(0,D.jsx)(x(),{color:"white"})}),(null==F?void 0:F.isAdmin)&&(0,D.jsx)(y.Box,{paddingLeft:"12px",paddingTop:"12px",children:(0,D.jsx)(Z.Z,{variant:"unstyled",href:te,target:"_blank",children:(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:"View in backcountry"})})})]}),(0,D.jsx)(y.Text,{variant:"paragraphS",textColor:"white",children:"".concat(o+u+1," / ").concat(a)}),(0,D.jsxs)(y.Box,{marginRight:"16px",marginBottom:"32px",children:[tA&&(0,D.jsx)(td.Z,{reportButtons:t_,buttonClickedProperties:tT,menuButtonProps:{color:"#FFFFFF !important"}}),_&&(0,D.jsx)(tp,{buttonClickedProperties:tZ,photoUuid:tt,closeMenu:function(){return A(!1)},exitCarousel:function(){return s()}})]})]}),(0,D.jsx)(tw,{autoFocus:!0,selectedItem:o,showThumbs:!1,onChange:tr,showStatus:!1,showIndicators:!1,showArrows:g!==L.VB.Mobile,emulateTouch:g===L.VB.Mobile,useKeyboardArrows:!0,infiniteLoop:!1,labels:tc,renderArrowPrev:ts,renderArrowNext:ts,children:i.map(function(t,e){return(0,D.jsxs)(O.Fragment,{children:[(0,D.jsx)(z,{photo:t}),J&&(0,D.jsx)(y.Box,{marginTop:"24px",children:(0,D.jsx)(tS,{variant:"paragraphM",textColor:"white",textAlign:"center",children:J})})]},"carousel-".concat(e))})}),(0,D.jsx)(tk,{currentPhotoHasExtraDetails:U,children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(M,{photo:H,setCurrentPhotoHasExtraDetails:R}),(0,D.jsx)(y.Box,{flexBasis:"auto",flexGrow:0,justifyContent:["left","left","right"],display:"flex",children:l&&(0,D.jsx)(tn,{photo:H,photos:i})})]})})]})})}},40155:function(t,e,n){var r=n(59499),o=n(99294),i=n.n(o),a=n(90191),c=n(39009),s=n(67294),u=n(31096),l=n(69043),p=n(11136),d=n(85893);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=(0,u.default)(a.Control).withConfig({displayName:"ReportMenu__ReportButton",componentId:"sc-irm9ox-0"})(["width:100%;height:100%;padding:16px;border-radius:16px;&:hover{background-color:",";}"],function(t){return t.theme.colors.brand4["520"]}),g=(0,u.default)(a.Box).withConfig({displayName:"ReportMenu__ReportPopup",componentId:"sc-irm9ox-1"})(["top:40px;position:absolute;justify-content:start;right:12px;width:240px;border-radius:16px;box-shadow:0px 2px 16px rgba(0,0,0,0.12);background-color:white;"]);e.Z=function(t){var e=t.reportButtons,n=t.menuButtonProps,r=t.buttonClickedProperties,o=(0,c.$G)().i18n.language,u=(0,s.useState)(!1),h=u[0],b=u[1],v=function(){l.co.buttonClicked(r),window.open((0,p.td)(o),"_blank")};return(0,d.jsx)(a.Box,{position:"relative",children:(0,d.jsxs)(a.Box,{position:"absolute",right:"4px",children:[(0,d.jsx)(a.Button,f(f({"aria-label":"",onClick:function(){return b(!0)},onBlur:function(){window.setTimeout(function(){return b(!1)},150)},rounded:!0,size:"md",color:"text"},n),{},{children:(0,d.jsx)(i(),{})})),h&&(0,d.jsx)(g,{children:e.map(function(t,n){var r=t.buttonText,o=t.onClick;return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(x,{"aria-label":r,onClick:o||v,children:(0,d.jsx)(a.Text,{variant:"paragraphM",children:r})}),n!==e.length-1&&(0,d.jsx)(a.Divider,{})]},r)})})]})})}},32814:function(t,e,n){var r=n(59499),o=n(90191),i=n(50308),a=n.n(i),c=n(39009),s=n(67294),u=n(66580),l=n(85893);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=function(t){var e=t.toggle,n=t.less,r=t.variant,o=t.size,i=(0,(0,c.$G)().t)(n?"landPage.site.showLess":"landPage.site.showMore");return(0,l.jsx)(u.Z,{variant:r,onClick:e,content:i,size:o})};e.Z=function(t){var e=t.children,n=t.lines,r=void 0===n?2:n,o=t.maxLines,i=void 0===o?8:o,c=t.withTooltip,u=void 0===c||c,p=t.onShowMore,d=void 0===p?a():p,g=t.ctaVariant,b=void 0===g?"primary":g,v=t.ctaSize,m=void 0===v?"md":v,y=t.withCta,j=t.customCta,w=void 0===j?null:j,P=(0,s.useState)(r),C=P[0],O=P[1],k=(0,s.useState)(!1),S=k[0],T=k[1],Z=(0,s.useState)(!1),I=Z[0],E=Z[1],_=function(t){var e=t?i:r;E(function(t){return!t}),T(function(t){return!t}),O(e),d(t)};(0,s.useEffect)(function(){r&&O(r)},[r]);var B=(void 0===y||y)&&!w;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x,{lines:C,getRef:function(t){if(t){if(f(t)){if(u){var e=t.textContent;t.setAttribute("title",e)}I||S||E(!0)}else t.removeAttribute("title"),E(!1)}},children:e}),I&&w,B&&I&&!S&&(0,l.jsx)(h,{toggle:function(){return _(!0)},variant:b,size:m}),B&&S&&(0,l.jsx)(h,{less:!0,toggle:function(){return _(!1)},variant:b,size:m})]})};var f=function(t){return Math.abs(t.scrollHeight-t.clientHeight)>1},x=function(t){var e,n=t.children,r=t.lines,i=t.getRef,a=(0,s.useMemo)(function(){return{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",WebkitLineClamp:r,WebkitBoxOrient:"vertical"}},[r]);return e=n||(0,l.jsx)(o.Text,{children:n}),(0,s.cloneElement)(e,{style:d(d({},e.props.style),a),ref:i})}},14872:function(t,e,n){n.d(e,{M:function(){return l}});var r=n(59499),o=n(90191);n(67294);var i=n(31096),a=n(82838),c=n(85893);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=56,p=(0,i.default)(o.Box).withConfig({displayName:"StickyHeader__StyledHeader",componentId:"sc-twt5mo-0"})(["position:fixed;left:0;top:0;height:",";width:100%;display:flex;align-items:center;background-color:white;"],function(t){var e;return null!==(e=null==t?void 0:t.height)&&void 0!==e?e:"".concat(l,"px")});e.Z=function(t){var e=t.onClick,n=t.iconType,r=t.iconName,i=t.icon,s=t.hasSpacing,d=t.ariaLabel,h=t.children,f=t.justifyChildren,x=t.styles;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p,u(u({},x),{},{paddingLeft:["20px","20px","20px","32px","32px"],paddingRight:["0px","0px","0px","50%","50%"],children:[(0,c.jsx)(o.Control,{"aria-label":void 0===d?"":d,onClick:e,justifySelf:"flex-start",type:"button",children:i||(0,c.jsx)(a.Z,{type:n,name:r})}),(0,c.jsx)(o.Box,{display:"flex",justifyContent:f||"center",width:"100%",children:h})]})),void 0!==s&&s&&(0,c.jsx)(o.Box,{height:l})]})}},37227:function(t,e,n){n.d(e,{Nr:function(){return d},ZP:function(){return f},zJ:function(){return h}});var r=n(59499),o=n(27361),i=n.n(o),a=n(67294),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=(0,a.useState)(t),n=e[0],r=e[1];return{index:n,openAtIndex:(0,a.useCallback)(function(t){return r(t)},[]),close:(0,a.useCallback)(function(){return r(-1)},[r])}},s=n(60173),u=n(85893);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var p=a.createContext(null),d=function(t){var e,n=t.children,r=t.photoViewer,o=t.totalCount,i=t.contributedPhotos,c=t.hasNextPage,l=t.pullNextPage,d=t.category,h=void 0===d?s.WQ.AllPhotos:d,f=t.setCategory,x=t.categories,g=void 0===x?[]:x,b=t.entityId,v=(0,a.useState)(i),m=v[0],y=v[1];(0,a.useEffect)(function(){y(i)},[i]);var j=g.filter(function(t){return h==t.slug}),w=null==j||null===(e=j[0])||void 0===e?void 0:e.snippets;return(0,u.jsx)(p.Provider,{value:{photoViewer:r,totalCount:o,photos:m,hasNextPage:c,pullNextPage:l,setPhotos:y,category:h,setCategory:void 0===f?function(){}:f,categories:g,entityId:void 0===b?"":b,snippets:w},children:n})},h=function(t){var e,n=t.data,o=t.error,s=t.size,u=t.setSize,p=!n&&!o||s>0&&n&&void 0===n[s-1],d=(null==n||null===(e=n[0])||void 0===e?void 0:e.length)===0,h=i()(n,"[0].totalCount",0),f=!o&&i()(n,"[".concat(n&&n.length-1,"].pageInfo.hasNextPage"),!1),x=(0,a.useMemo)(function(){return n?n.map(function(t){return t.edges.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({cursor:t.cursor},t.node)})}).flat():[]},[n]),g=c(),b=(0,a.useMemo)(function(){return d||x.length-10<g.index},[x,g.index,d]),v=(0,a.useCallback)(function(){u(s+1)},[s,u]);return(0,a.useEffect)(function(){b&&f&&!p&&v()},[b,p,f]),{contributedPhotos:x,photoViewer:g,totalCount:h,hasNextPage:f,pullNextPage:v}},f=function(){var t=(0,a.useContext)(p);if(!t)throw"Missing contributed photos context";return t}},32030:function(t,e,n){var r=n(67294);e.Z=function(t){var e=t.escapeCallback,n=t.skip,o=void 0!==n&&n;(0,r.useEffect)(function(){var t=function(t){"Escape"!==t.key||o||e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[o])}},55855:function(t,e,n){n.d(e,{V:function(){return l}});var r=n(59499),o=n(17674),i=n(93146),a=n(67294),c=n(53265);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=(0,a.createContext)({surface:""});e.Z=function(t){var e=t.contentId,n=t.contentType,r=t.component,s=t.properties,p=t.intersectionOptions,d=t.visibilityTimeThreshold,h=t.tracker,f=void 0===h?"hc":h,x=t.insertionId,g=(0,a.useContext)(l),b=(null==g?void 0:g.surface)||"unknown",v=(0,i.ZP)({contentId:e,insertionId:x,handleError:c.S3,intersectionOptions:p,visibilityTimeThreshold:d,logImpression:function(t){var e=u(u({},t),{},{properties:{struct:u({contentType:n,component:r,surface:b},s)}});("proxy"===f?c.tp:c.jW).logImpression(e)}}),m=(0,o.Z)(v,3);return{impressionRef:m[0],impressionId:m[1],logImpressionFunctor:m[2]}}},5693:function(t,e,n){var r=n(50029),o=n(87757),i=n.n(o),a=n(67294);e.Z=function(t){var e,n=t.mutation,o=t.handleError,c=(0,a.useState)(!1),s=c[0],u=c[1];return{mutationMutex:(e=(0,r.Z)(i().mark(function t(e){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=2;break}return t.abrupt("return");case 2:return u(!0),t.prev=3,t.next=6,n(e);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),null==o||o(t.t0);case 11:return t.prev=11,u(!1),t.finish(11);case 14:case"end":return t.stop()}},t,null,[[3,8,11,14]])})),function(t){return e.apply(this,arguments)}),isMutating:s}}},73987:function(t,e,n){n.d(e,{Z:function(){return s}});var r,o=n(50029),i=n(87757),a=n.n(i),c=n(7536),s=(r=(0,o.Z)(a().mark(function t(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)()("mutation createUpvote($input: UpvoteContributionInput!) {\n  upvoteContribution(input: $input) {\n    success\n    message\n  }\n}\n",{input:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})},12184:function(t,e,n){n.d(e,{Z:function(){return s}});var r,o=n(50029),i=n(87757),a=n.n(i),c=n(7536),s=(r=(0,o.Z)(a().mark(function t(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)()("mutation deleteUpvote($input: RemoveUpvoteInput!) {\n  removeUpvote(input: $input) {\n    success\n    message\n  }\n}\n",{input:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})},5585:function(t,e,n){n.d(e,{Z:function(){return s}});var r,o=n(50029),i=n(87757),a=n.n(i),c=n(7536),s=(r=(0,o.Z)(a().mark(function t(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)()("mutation ToggleContributedPhotoHidden($input: ToggleContributedPhotoHiddenInput!) {\n  toggleContributedPhotoHidden(input: $input) {\n    photo {\n      uuid\n    }\n  }\n}\n",{input:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})},45322:function(t,e,n){n.d(e,{$G:function(){return r},AU:function(){return i},Pe:function(){return o}});var r=function(t,e){return t.length>e?"".concat(t.substring(0,e),"…"):t},o=function(t){var e=t.replace(/[-_]+/g," ").toLowerCase();return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o(t).replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}},52934:function(t,e,n){n.d(e,{Du:function(){return u},WH:function(){return a},dA:function(){return c},hR:function(){return s}});var r=n(17674),o=n(57557),i=n.n(o),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(i()(t,e));return n.reduce(function(r,o,i){return 0===i&&(r+="?"),e.includes(o)||(r+="".concat(o,"=").concat(t[o]),i!==n.length-1&&(r+="&")),r},"")},c=function(t){var e=(t=(t=Array.isArray(t)?t[0]:t)||"").split("-");return{landId:e[e.length-1]}},s=function(t){if(5!=t.length)return null;var e=(0,r.Z)(t,5);return{country:e[0],state:e[1],publicLandCategory:e[2],name:e[3],filter:e[4]}},u=function(t){try{return new URL(t),!0}catch(t){return!1}}},86280:function(t,e,n){var r=n(59499),o=n(90191);n(67294);var i=n(17308),a=n(82838),c=n(85893);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.Z=function(t){var e=t.boxShadow,n=t.size,r=t.avatarUrl,s=t.isEmpty,l=t.withBorder,p={height:parseInt(n),width:parseInt(n)};return(0,c.jsx)(o.Box,u(u({boxShadow:void 0===e?0:e,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:n,border:"".concat(void 0!==l&&l?"solid 2px #e3e3e3":"none"),overflow:"hidden"},p),{},{children:void 0!==s&&s?(0,c.jsxs)(o.Box,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(a.Z,{type:"fa",name:"plus",fontSize:0}),(0,c.jsx)(a.Z,{type:"fa",name:"user",fontSize:4,mr:1})]}):(0,c.jsx)(i.Z,u(u({alt:"Avatar",src:r},p),{},{unoptimized:!0}))}))}}}]);
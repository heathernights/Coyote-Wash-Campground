"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3403],{33403:function(e,t,o){o.d(t,{mh:function(){return D},Jx:function(){return w},Pv:function(){return k},GI:function(){return T},jf:function(){return O},Hw:function(){return j},ZP:function(){return L}});var r=o(67294);let n=r.createContext(null);function i(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function a(e,t){let o=t.viewState||t,r=!1;if("longitude"in o&&"latitude"in o){let t=e.center;e.center=new t.constructor(o.longitude,o.latitude),r=r||t!==e.center}if("zoom"in o){let t=e.zoom;e.zoom=o.zoom,r=r||t!==e.zoom}if("bearing"in o){let t=e.bearing;e.bearing=o.bearing,r=r||t!==e.bearing}if("pitch"in o){let t=e.pitch;e.pitch=o.pitch,r=r||t!==e.pitch}return o.padding&&!e.isPaddingEqual(o.padding)&&(r=!0,e.padding=o.padding),r}let s=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function l(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let o of e.layers)t[o.id]=o;let o=e.layers.map(e=>{let o=t[e.ref],r=null;if("interactive"in e&&(r={...e},delete r.interactive),o)for(let t of(r=r||{...e},delete r.ref,s))t in o&&(r[t]=o[t]);return r||e});return{...e,layers:o}}function u(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!u(e[o],t[o]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(let r of o)if(!t.hasOwnProperty(r)||!u(e[r],t[r]))return!1;return!0}return!1}var d=o(34155);let c={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},p={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},f={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},m=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],h=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class g{constructor(e,t,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{let t=this.props[f[e.type]];t&&t(e)},this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[c[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){let t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});if(!t.length)return;e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){let t=this.props[p[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){let t=this.props;this.props=e;let o=this._updateSettings(e,t);o&&(this._renderTransform=this._map.transform.clone());let r=this._updateSize(e),n=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(o||r||n&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let o=g.savedMaps.pop();if(!o)return null;let r=o.map,n=r.getContainer();for(t.className=n.className;n.childNodes.length>0;)t.appendChild(n.childNodes[0]);return r._container=t,e.initialViewState&&o._updateViewState(e.initialViewState,!1),r.resize(),o.setProps({...e,styleDiffing:!1}),r.isStyleLoaded()?r.fire("load"):r.once("styledata",()=>r.fire("load")),o}_initialize(e){let{props:t}=this,o={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;if("undefined"!=typeof location){let t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||d.env.MapboxAccessToken}catch{}try{e=e||d.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}()||null,container:e,style:l(t.mapStyle)},r=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let n=new this._MapClass(o);r.padding&&n.setPadding(r.padding),t.cursor&&(n.getCanvas().style.cursor=t.cursor),this._renderTransform=n.transform.clone();let i=n._render;n._render=e=>{this._inRender=!0,i.call(n,e),this._inRender=!1};let a=n._renderTaskQueue.run;n._renderTaskQueue.run=e=>{a.call(n._renderTaskQueue,e),this._onBeforeRepaint()},n.on("render",()=>this._onAfterRepaint());let s=n.fire;for(let e in n.fire=this._fireEvent.bind(this,s),n.on("resize",()=>{this._renderTransform.resize(n.transform.width,n.transform.height)}),n.on("styledata",()=>this._updateStyleComponents(this.props,{})),n.on("sourcedata",()=>this._updateStyleComponents(this.props,{})),c)n.on(e,this._onPointerEvent);for(let e in p)n.on(e,this._onCameraEvent);for(let e in f)n.on(e,this._onEvent);this._map=n}recycle(){g.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;let o=this._map,r=this._renderTransform,{zoom:n,pitch:s,bearing:l}=r,u=a(r,{...i(o.transform),...e});if(u&&t){let e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=n!==r.zoom),e.rotate||(e.rotate=l!==r.bearing),e.pitch||(e.pitch=s!==r.pitch)}return o.isMoving()||a(o.transform,e),u}_updateSettings(e,t){let o=this._map,r=!1;for(let n of m)n in e&&!u(e[n],t[n])&&(r=!0,o[`set${n[0].toUpperCase()}${n.slice(1)}`](e[n]));return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){let t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(l(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){let o=this._map,r=!1;return o.style.loaded()&&("light"in e&&!u(e.light,t.light)&&(r=!0,o.setLight(e.light)),"fog"in e&&!u(e.fog,t.fog)&&(r=!0,o.setFog(e.fog)),"terrain"in e&&!u(e.terrain,t.terrain)&&(!e.terrain||o.getSource(e.terrain.source))&&(r=!0,o.setTerrain(e.terrain))),r}_updateHandlers(e,t){let o=this._map,r=!1;for(let n of h){let i=e[n];u(i,t[n])||(r=!0,i?o[n].enable(i):o[n].disable())}return r}_updateHover(e){let{props:t}=this;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){let o;let r=e.type,n=this._hoveredFeatures?.length>0;if("mousemove"===r)try{o=this._map.queryRenderedFeatures(e.point,{layers:t.interactiveLayerIds})}catch{o=[]}else o=[];let i=o.length>0;!i&&n&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=o,i&&!n&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,o){let r=this._map,n=r.transform,a="string"==typeof t?t:t.type;return("move"===a&&this._updateViewState(this.props,!1),a in p&&("object"==typeof t&&(t.viewState=i(n)),this._map.isMoving()))?(r.transform=this._renderTransform,e.call(r,t,o),r.transform=n):e.call(r,t,o),r}_onBeforeRepaint(){let e=this._map;for(let t in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;let t=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=t}}}g.savedMaps=[];let y=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function v(e,t){if(!e)return null;let o=e.map,r={getMap:()=>o,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>e.transform.locationPoint(t.LngLat.convert(o)),unproject:o=>e.transform.pointLocation(t.Point.convert(o))};for(let e of function(e){let t=new Set,o=e;for(;o;){for(let r of Object.getOwnPropertyNames(o))"_"!==r[0]&&"function"==typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);o=Object.getPrototypeOf(o)}return Array.from(t)}(o))e in r||y.includes(e)||(r[e]=o[e].bind(o));return r}let _="undefined"!=typeof document?r.useLayoutEffect:r.useEffect,E=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],b=r.createContext(null),x=(0,r.forwardRef)((e,t)=>{let i=(0,r.useContext)(n),[a,s]=(0,r.useState)(null),l=(0,r.useRef)(),{current:u}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)(()=>{let t;let r=e.mapLib,n=!0;return Promise.resolve(r||o.e(2634).then(o.t.bind(o,6158,23))).then(o=>{if(n){if(o.Map||(o=o.default),!o||!o.Map)throw Error("Invalid mapLib");if(o.supported(e))(function(e,t){for(let o of E)o in t&&(e[o]=t[o]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,e=>{e&&console.error(e)},!1)})(o,e),e.reuseMaps&&(t=g.reuse(e,l.current)),t||(t=new g(o.Map,e,l.current)),u.map=t.map,u.mapLib=o,s(t),i?.onMapMount(v(t,o),e.id);else throw Error("Map is not supported by this browser")}}).catch(t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})}),()=>{n=!1,t&&(i?.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}},[]),_(()=>{a&&a.setProps(e)}),(0,r.useImperativeHandle)(t,()=>v(a,u.mapLib),[a]);let d=(0,r.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]);return r.createElement("div",{id:e.id,ref:l,style:d},a&&r.createElement(b.Provider,{value:u},e.children))});x.displayName="Map",x.defaultProps={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"};var L=x,P=o(73935);let C=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function S(e,t){if(!e||!t)return;let o=e.style;for(let e in t){let r=t[e];Number.isFinite(r)&&!C.test(e)?o[e]=`${r}px`:o[e]=r}}function M(e){let{map:t,mapLib:o}=(0,r.useContext)(b),n=(0,r.useRef)({props:e});n.current.props=e;let i=(0,r.useMemo)(()=>{let t=!1;r.Children.forEach(e.children,e=>{e&&(t=!0)});let a={...e,element:t?document.createElement("div"):null},s=new o.Marker(a).setLngLat([e.longitude,e.latitude]);return s.on("dragstart",e=>{e.lngLat=i.getLngLat(),n.current.props.onDragStart?.(e)}),s.on("drag",e=>{e.lngLat=i.getLngLat(),n.current.props.onDrag?.(e)}),s.on("dragend",e=>{e.lngLat=i.getLngLat(),n.current.props.onDragEnd?.(e)}),s},[]);return(0,r.useEffect)(()=>(i.addTo(t),()=>{i.remove()}),[]),(0,r.useEffect)(()=>{S(i.getElement(),e.style)},[e.style]),(i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){let o=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,n=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return o===n&&r===i}(i.getOffset(),e.offset)&&i.setOffset(e.offset),i.isDraggable()!==e.draggable&&i.setDraggable(e.draggable),i.getRotation()!==e.rotation&&i.setRotation(e.rotation),i.getRotationAlignment()!==e.rotationAlignment&&i.setRotationAlignment(e.rotationAlignment),i.getPitchAlignment()!==e.pitchAlignment&&i.setPitchAlignment(e.pitchAlignment),i.getPopup()!==e.popup&&i.setPopup(e.popup),(0,P.createPortal)(e.children,i.getElement())}M.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};var w=r.memo(M);function R(e){return new Set(e?e.trim().split(/\s+/):[])}var T=r.memo(function(e){let{map:t,mapLib:o}=(0,r.useContext)(b),n=(0,r.useMemo)(()=>document.createElement("div"),[]),i=(0,r.useRef)({props:e});i.current.props=e;let a=(0,r.useMemo)(()=>{let t={...e},r=new o.Popup(t).setLngLat([e.longitude,e.latitude]);return r.on("open",e=>{i.current.props.onOpen?.(e)}),r.on("close",e=>{i.current.props.onClose?.(e)}),r},[]);if((0,r.useEffect)(()=>(a.setDOMContent(n).addTo(t),()=>{a.isOpen()&&a.remove()}),[]),(0,r.useEffect)(()=>{S(a.getElement(),e.style)},[e.style]),a.isOpen()&&((a.getLngLat().lng!==e.longitude||a.getLngLat().lat!==e.latitude)&&a.setLngLat([e.longitude,e.latitude]),e.offset&&!u(a.options.offset,e.offset)&&a.setOffset(e.offset),(a.options.anchor!==e.anchor||a.options.maxWidth!==e.maxWidth)&&(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){let t=R(a.options.className),o=R(e.className);for(let e of t)o.has(e)||a.removeClassName(e);for(let e of o)t.has(e)||a.addClassName(e);a.options.className=e.className}return(0,P.createPortal)(e.children,n)});function z(e,t,o){let n=(0,r.useContext)(b),i=(0,r.useMemo)(()=>e(n),[]);return(0,r.useEffect)(()=>{let{map:e}=n;return e.hasControl(i)||e.addControl(i,(o||t)?.position),()=>{"function"==typeof t&&t(n),e.hasControl(i)&&e.removeControl(i)}},[]),i}r.memo(function(e){let t=z(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,r.useEffect)(()=>{S(t._container,e.style)},[e.style]),null}),r.memo(function(e){let t=z(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,r.useEffect)(()=>{S(t._controlContainer,e.style)},[e.style]),null});let A=(0,r.forwardRef)((e,t)=>{let o=(0,r.useRef)({props:e}),n=z(({mapLib:t})=>{let r=new t.GeolocateControl(e);return r.on("geolocate",e=>{o.current.props.onGeolocate?.(e)}),r.on("error",e=>{o.current.props.onError?.(e)}),r.on("outofmaxbounds",e=>{o.current.props.onOutOfMaxBounds?.(e)}),r.on("trackuserlocationstart",e=>{o.current.props.onTrackUserLocationStart?.(e)}),r.on("trackuserlocationend",e=>{o.current.props.onTrackUserLocationEnd?.(e)}),r},{position:e.position});return o.current.props=e,(0,r.useImperativeHandle)(t,()=>({trigger:()=>n.trigger()}),[]),(0,r.useEffect)(()=>{S(n._container,e.style)},[e.style]),null});A.displayName="GeolocateControl",r.memo(A);var k=r.memo(function(e){let t=z(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,r.useEffect)(()=>{S(t._container,e.style)},[e.style]),null});function Z(e){let t=z(({mapLib:t})=>new t.ScaleControl(e),{position:e.position});return(t.options.unit!==e.unit||t.options.maxWidth!==e.maxWidth)&&(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,r.useEffect)(()=>{S(t._container,e.style)},[e.style]),null}Z.defaultProps={unit:"metric",maxWidth:100};var O=r.memo(Z);function I(e,t){if(!e)throw Error(t)}let N=0;var j=function(e){let{map:t}=(0,r.useContext)(b),o=(0,r.useRef)(e),[,n]=(0,r.useState)(0),i=(0,r.useMemo)(()=>e.id||`jsx-source-${N++}`,[]);(0,r.useEffect)(()=>{if(t){let e=()=>n(e=>e+1);return t.on("styledata",e),e(),()=>{t.off("styledata",e),setTimeout(()=>{t.style&&t.style._loaded&&t.getSource(i)&&t.removeSource(i)},0)}}},[t]);let a=t&&t.style&&t.getSource(i);return a?function(e,t,o){I(t.id===o.id,"source id changed"),I(t.type===o.type,"source type changed");let r="",n=0;for(let e in t)"children"!==e&&"id"!==e&&!u(o[e],t[e])&&(r=e,n++);if(!n)return;let i=t.type;if("geojson"===i)e.setData(t.data);else if("image"===i)e.updateImage({url:t.url,coordinates:t.coordinates});else if(("canvas"===i||"video"===i)&&1===n&&"coordinates"===r)e.setCoordinates(t.coordinates);else if("vector"===i&&"setUrl"in e)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${r}`)}(a,e,o.current):a=function(e,t,o){if(e.style&&e.style._loaded){let r={...o};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}(t,i,e),o.current=e,a&&r.Children.map(e.children,e=>e&&(0,r.cloneElement)(e,{source:i}))||null};let F=0;var D=function(e){let{map:t}=(0,r.useContext)(b),o=(0,r.useRef)(e),[,n]=(0,r.useState)(0),i=(0,r.useMemo)(()=>e.id||`jsx-layer-${F++}`,[]);if((0,r.useEffect)(()=>{if(t){let e=()=>n(e=>e+1);return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.removeLayer(i)}}},[t]),t&&t.style&&t.getLayer(i))try{!function(e,t,o,r){if(I(o.id===r.id,"layer id changed"),I(o.type===r.type,"layer type changed"),"custom"===o.type||"custom"===r.type)return;let{layout:n={},paint:i={},filter:a,minzoom:s,maxzoom:l,beforeId:d}=o;if(d!==r.beforeId&&e.moveLayer(t,d),n!==r.layout){let o=r.layout||{};for(let r in n)u(n[r],o[r])||e.setLayoutProperty(t,r,n[r]);for(let r in o)n.hasOwnProperty(r)||e.setLayoutProperty(t,r,void 0)}if(i!==r.paint){let o=r.paint||{};for(let r in i)u(i[r],o[r])||e.setPaintProperty(t,r,i[r]);for(let r in o)i.hasOwnProperty(r)||e.setPaintProperty(t,r,void 0)}u(a,r.filter)||e.setFilter(t,a),(s!==r.minzoom||l!==r.maxzoom)&&e.setLayerZoomRange(t,s,l)}(t,i,e,o.current)}catch(e){console.warn(e)}else!function(e,t,o){if(e.style&&e.style._loaded&&e.getSource(o.source)){let r={...o,id:t};delete r.beforeId,e.addLayer(r,o.beforeId)}}(t,i,e);return o.current=e,null}}}]);